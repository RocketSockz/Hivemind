<!doctype HTML> <html><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>commands</title><meta property="og:title" content="commands"/><meta property="og:type" content="website"/><meta name="description" content="Execute Minecraft commands and gather data from the results from a command computer."/><meta property="og:description" content="Execute Minecraft commands and gather data from the results from a command computer."/><meta property="og:image" content="https://tweaked.cc/pack-26318f36.png"/><meta property="og:site_name" content="CC: Tweaked"/><meta name="illuaminate:index" content="../index.json"/><link rel="stylesheet" href="../main.css?v=bbe7ccb7" type="text/css"/>

<meta name="theme-color" content="#c8d87c"/></head><body><nav id="nav"><button id="nav-reveal" type="button">â˜°</button><h1><a href=".././"><img src="../pack-26318f36.png" alt="CC: Tweaked"/></a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:exec" class="sidebar-link">exec</a></li><li><a href="#v:execAsync" class="sidebar-link">execAsync</a></li><li><a href="#v:list" class="sidebar-link">list</a></li><li><a href="#v:getBlockPosition" class="sidebar-link">getBlockPosition</a></li><li><a href="#v:getBlockInfos" class="sidebar-link">getBlockInfos</a></li><li><a href="#v:getBlockInfo" class="sidebar-link">getBlockInfo</a></li><li><a href="#v:native" class="sidebar-link">native</a></li><li><a href="#v:async" class="sidebar-link">async</a></li></ul><h2 tabindex="0">Globals</h2><ul><li><a href="_G.html" class="sidebar-link">_G</a></li><li><a href="colors.html" class="sidebar-link">colors</a></li><li><a href="colours.html" class="sidebar-link">colours</a></li><li><strong class="sidebar-link selected">commands</strong></li><li><a href="disk.html" class="sidebar-link">disk</a></li><li><a href="fs.html" class="sidebar-link">fs</a></li><li><a href="gps.html" class="sidebar-link">gps</a></li><li><a href="help.html" class="sidebar-link">help</a></li><li><a href="http.html" class="sidebar-link">http</a></li><li><a href="io.html" class="sidebar-link">io</a></li><li><a href="keys.html" class="sidebar-link">keys</a></li><li><a href="multishell.html" class="sidebar-link">multishell</a></li><li><a href="os.html" class="sidebar-link">os</a></li><li><a href="paintutils.html" class="sidebar-link">paintutils</a></li><li><a href="parallel.html" class="sidebar-link">parallel</a></li><li><a href="peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="pocket.html" class="sidebar-link">pocket</a></li><li><a href="rednet.html" class="sidebar-link">rednet</a></li><li><a href="redstone.html" class="sidebar-link">redstone</a></li><li><a href="settings.html" class="sidebar-link">settings</a></li><li><a href="shell.html" class="sidebar-link">shell</a></li><li><a href="term.html" class="sidebar-link">term</a></li><li><a href="textutils.html" class="sidebar-link">textutils</a></li><li><a href="turtle.html" class="sidebar-link">turtle</a></li><li><a href="vector.html" class="sidebar-link">vector</a></li><li><a href="window.html" class="sidebar-link">window</a></li></ul><h2 class="collapsed" tabindex="0">Modules</h2><ul><li><a href="../library/cc.audio.dfpwm.html" class="sidebar-link">cc.audio.dfpwm</a></li><li><a href="../library/cc.completion.html" class="sidebar-link">cc.completion</a></li><li><a href="../library/cc.expect.html" class="sidebar-link">cc.expect</a></li><li><a href="../library/cc.image.nft.html" class="sidebar-link">cc.image.nft</a></li><li><a href="../library/cc.pretty.html" class="sidebar-link">cc.pretty</a></li><li><a href="../library/cc.require.html" class="sidebar-link">cc.require</a></li><li><a href="../library/cc.shell.completion.html" class="sidebar-link">cc.shell.completion</a></li><li><a href="../library/cc.strings.html" class="sidebar-link">cc.strings</a></li></ul><h2 class="collapsed" tabindex="0">Peripherals</h2><ul><li><a href="../peripheral/command.html" class="sidebar-link">command</a></li><li><a href="../peripheral/computer.html" class="sidebar-link">computer</a></li><li><a href="../peripheral/drive.html" class="sidebar-link">drive</a></li><li><a href="../peripheral/modem.html" class="sidebar-link">modem</a></li><li><a href="../peripheral/monitor.html" class="sidebar-link">monitor</a></li><li><a href="../peripheral/printer.html" class="sidebar-link">printer</a></li><li><a href="../peripheral/speaker.html" class="sidebar-link">speaker</a></li></ul><h2 class="collapsed" tabindex="0">Generic Peripherals</h2><ul><li><a href="../generic_peripheral/energy_storage.html" class="sidebar-link">energy_storage</a></li><li><a href="../generic_peripheral/fluid_storage.html" class="sidebar-link">fluid_storage</a></li><li><a href="../generic_peripheral/inventory.html" class="sidebar-link">inventory</a></li></ul><h2 class="collapsed" tabindex="0">Events</h2><ul><li><a href="../event/alarm.html" class="sidebar-link">alarm</a></li><li><a href="../event/char.html" class="sidebar-link">char</a></li><li><a href="../event/computer_command.html" class="sidebar-link">computer_command</a></li><li><a href="../event/disk.html" class="sidebar-link">disk</a></li><li><a href="../event/disk_eject.html" class="sidebar-link">disk_eject</a></li><li><a href="../event/file_transfer.html" class="sidebar-link">file_transfer</a></li><li><a href="../event/http_check.html" class="sidebar-link">http_check</a></li><li><a href="../event/http_failure.html" class="sidebar-link">http_failure</a></li><li><a href="../event/http_success.html" class="sidebar-link">http_success</a></li><li><a href="../event/key.html" class="sidebar-link">key</a></li><li><a href="../event/key_up.html" class="sidebar-link">key_up</a></li><li><a href="../event/modem_message.html" class="sidebar-link">modem_message</a></li><li><a href="../event/monitor_resize.html" class="sidebar-link">monitor_resize</a></li><li><a href="../event/monitor_touch.html" class="sidebar-link">monitor_touch</a></li><li><a href="../event/mouse_click.html" class="sidebar-link">mouse_click</a></li><li><a href="../event/mouse_drag.html" class="sidebar-link">mouse_drag</a></li><li><a href="../event/mouse_scroll.html" class="sidebar-link">mouse_scroll</a></li><li><a href="../event/mouse_up.html" class="sidebar-link">mouse_up</a></li><li><a href="../event/paste.html" class="sidebar-link">paste</a></li><li><a href="../event/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../event/peripheral_detach.html" class="sidebar-link">peripheral_detach</a></li><li><a href="../event/rednet_message.html" class="sidebar-link">rednet_message</a></li><li><a href="../event/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../event/speaker_audio_empty.html" class="sidebar-link">speaker_audio_empty</a></li><li><a href="../event/task_complete.html" class="sidebar-link">task_complete</a></li><li><a href="../event/term_resize.html" class="sidebar-link">term_resize</a></li><li><a href="../event/terminate.html" class="sidebar-link">terminate</a></li><li><a href="../event/timer.html" class="sidebar-link">timer</a></li><li><a href="../event/turtle_inventory.html" class="sidebar-link">turtle_inventory</a></li><li><a href="../event/websocket_closed.html" class="sidebar-link">websocket_closed</a></li><li><a href="../event/websocket_failure.html" class="sidebar-link">websocket_failure</a></li><li><a href="../event/websocket_message.html" class="sidebar-link">websocket_message</a></li><li><a href="../event/websocket_success.html" class="sidebar-link">websocket_success</a></li></ul><h2 class="collapsed" tabindex="0">Guides</h2><ul><li><a href="../guide/gps_setup.html" class="sidebar-link">Setting up GPS</a></li><li><a href="../guide/local_ips.html" class="sidebar-link">Allowing access to local IPs</a></li><li><a href="../guide/speaker_audio.html" class="sidebar-link">Playing audio with speakers</a></li><li><a href="../guide/using_require.html" class="sidebar-link">Reusing code with require</a></li></ul><h2 class="collapsed" tabindex="0">Reference</h2><ul><li><a href="../reference/breaking_changes.html" class="sidebar-link">Incompatibilities between versions</a></li><li><a href="../reference/computercraft_command.html" class="sidebar-link">The /computercraft command</a></li><li><a href="../reference/feature_compat.html" class="sidebar-link">Lua 5.2/5.3 features in CC: Tweaked</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"/><div id="search-results"></div></div><section id="content"><h1>commands</h1><p>Execute <a href="https://minecraft.wiki/w/Commands">Minecraft commands</a> and gather data from the results from
a command computer.</p>
<div class="admonition admonition-note"><h5 class="admonition-heading"><span aria-hidden="true">ðŸ›ˆ</span> note</h5><p>This API is only available on Command computers. It is not accessible to normal
players.</p>
</div><p>While one may use <a href="commands.html#v:exec" class="reference"><code>commands.exec</code></a> directly to execute a command, the
commands API also provides helper methods to execute every command. For
instance, <code>commands.say(&quot;Hi!&quot;)</code> is equivalent to <code>commands.exec(&quot;say Hi!&quot;)</code>.</p>
<p><a href="commands.html#v:async" class="reference"><code>commands.async</code></a> provides a similar interface to execute asynchronous
commands. <code>commands.async.say(&quot;Hi!&quot;)</code> is equivalent to
<code>commands.execAsync(&quot;say Hi!&quot;)</code>.</p>
<h3>Usage</h3><ul><li><p>Set the block above this computer to stone:</p>
<div class="lua-example"><pre class="highlight" data-lua-kind="expr"><a title="Execute Minecraft commands and gather data from the results from a command computer." href="commands.html"><span class="ident">commands</span></a><span class="symbol">.</span><span class="symbol">setblock</span><span class="symbol">(</span><span class="string">&quot;~&quot;</span><span class="symbol">,</span> <span class="string">&quot;~1&quot;</span><span class="symbol">,</span> <span class="string">&quot;~&quot;</span><span class="symbol">,</span> <span class="string">&quot;minecraft:stone&quot;</span><span class="symbol">)</span><span class="symbol"></span></pre></div></li></ul><h3>Changes</h3><ul><li><strong>New in version 1.7</strong> </li></ul><table class="definition-list"><tbody><tr><th class="definition-name"><a href="#v:exec">exec(command)</a></th><td>Execute a specific command.</td></tr><tr><th class="definition-name"><a href="#v:execAsync">execAsync(command)</a></th><td>Asynchronously execute a command.</td></tr><tr><th class="definition-name"><a href="#v:list">list(...)</a></th><td>List all available commands which the computer has permission to execute.</td></tr><tr><th class="definition-name"><a href="#v:getBlockPosition">getBlockPosition()</a></th><td>Get the position of the current command computer.</td></tr><tr><th class="definition-name"><a href="#v:getBlockInfos">getBlockInfos(minX, minY, minZ, maxX, maxY, maxZ [, dimension])</a></th><td>Get information about a range of blocks.</td></tr><tr><th class="definition-name"><a href="#v:getBlockInfo">getBlockInfo(x, y, z [, dimension])</a></th><td>Get some basic information about a block.</td></tr><tr><th class="definition-name"><a href="#v:native">native</a></th><td>The builtin commands API, without any generated command helper functions</td></tr><tr><th class="definition-name"><a href="#v:async">async</a></th><td>A table containing asynchronous wrappers for all commands.</td></tr></tbody></table><dl class="definition"><dt><a name="v:exec" href="#v:exec"></a><span class="definition-name">exec(command)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/common/src/main/java/dan200/computercraft/shared/computer/apis/CommandAPI.java#L94" class="source-link">Source</a></dt><dd><p>Execute a specific command.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">command</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The command to execute.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>boolean</code></span></span> Whether the command executed successfully.</li><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> The output of this command, as a list of lines.</li><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span> | nil</span> The number of &quot;affected&quot; objects, or <code>nil</code> if the command failed. The definition of this
varies from command to command.</li></ol><h3>Usage</h3><ul><li><p>Set the block above the command computer to stone.</p>
<div class="lua-example"><pre class="highlight" data-lua-kind="expr"><a title="Execute a specific command." href="commands.html#v:exec"><span class="ident">commands</span><span class="symbol">.</span><span class="symbol">exec</span></a><span class="symbol">(</span><span class="string">&quot;setblock ~ ~1 ~ minecraft:stone&quot;</span><span class="symbol">)</span><span class="symbol"></span></pre></div></li></ul><h3>Changes</h3><ul><li><strong>Changed in version 1.71:</strong> Added return value with command output.</li><li><strong>Changed in version 1.85.0:</strong> Added return value with the number of affected objects.</li></ul></dd><dt><a name="v:execAsync" href="#v:execAsync"></a><span class="definition-name">execAsync(command)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/common/src/main/java/dan200/computercraft/shared/computer/apis/CommandAPI.java#L120" class="source-link">Source</a></dt><dd><p>Asynchronously execute a command.</p>
<p>Unlike <a href="commands.html#v:exec" class="reference"><code>exec</code></a>, this will immediately return, instead of waiting for the
command to execute. This allows you to run multiple commands at the same
time.</p>
<p>When this command has finished executing, it will queue a <code>task_complete</code>
event containing the result of executing this command (what <a href="commands.html#v:exec" class="reference"><code>exec</code></a> would
return).</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">command</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The command to execute.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The &quot;task id&quot;. When this command has been executed, it will queue a <code>task_complete</code> event with a matching id.</li></ol><h3>Usage</h3><ul><li><p>Asynchronously sets the block above the computer to stone.</p>
<div class="lua-example"><pre class="highlight" data-lua-kind="expr"><a title="Asynchronously execute a command." href="commands.html#v:execAsync"><span class="ident">commands</span><span class="symbol">.</span><span class="symbol">execAsync</span></a><span class="symbol">(</span><span class="string">&quot;setblock ~ ~1 ~ minecraft:stone&quot;</span><span class="symbol">)</span><span class="symbol"></span></pre></div></li></ul><h3>See also</h3><ul><li><strong><a href="parallel.html" class="reference"><code>parallel</code></a></strong> One may also use the parallel API to run multiple commands at once.</li></ul></dd><dt><a name="v:list" href="#v:list"></a><span class="definition-name">list(...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/common/src/main/java/dan200/computercraft/shared/computer/apis/CommandAPI.java#L133" class="source-link">Source</a></dt><dd><p>List all available commands which the computer has permission to execute.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The sub-command to complete.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> A list of all available commands</li></ol></dd><dt><a name="v:getBlockPosition" href="#v:getBlockPosition"></a><span class="definition-name">getBlockPosition()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/common/src/main/java/dan200/computercraft/shared/computer/apis/CommandAPI.java#L161" class="source-link">Source</a></dt><dd><p>Get the position of the current command computer.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> This computer's x position.</li><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> This computer's y position.</li><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> This computer's z position.</li></ol><h3>See also</h3><ul><li><strong><a href="gps.html#v:locate" class="reference"><code>gps.locate</code></a></strong> To get the position of a non-command computer.</li></ul></dd><dt><a name="v:getBlockInfos" href="#v:getBlockInfos"></a><span class="definition-name">getBlockInfos(minX, minY, minZ, maxX, maxY, maxZ [, dimension])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/common/src/main/java/dan200/computercraft/shared/computer/apis/CommandAPI.java#L190" class="source-link">Source</a></dt><dd><p>Get information about a range of blocks.</p>
<p>This returns the same information as <a href="commands.html#v:getBlockInfo" class="reference"><code>getBlockInfo</code></a>, just for multiple
blocks at once.</p>
<p>Blocks are traversed by ascending y level, followed by z and x - the returned
table may be indexed using <code>x + z*width + y*depth*depth</code>.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">minX</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The start x coordinate of the range to query.</li><li><span class="parameter">minY</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The start y coordinate of the range to query.</li><li><span class="parameter">minZ</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The start z coordinate of the range to query.</li><li><span class="parameter">maxX</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The end x coordinate of the range to query.</li><li><span class="parameter">maxY</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The end y coordinate of the range to query.</li><li><span class="parameter">maxZ</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The end z coordinate of the range to query.</li><li><span class="parameter">dimension<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The dimension to query (e.g. &quot;minecraft:overworld&quot;). Defaults to the current dimension.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a>... }</span> A list of information about each block.</li></ol><h3>Throws</h3><ul><li><p>If the coordinates are not within the world.</p>
</li><li><p>If trying to get information about more than 4096 blocks.</p>
</li></ul><h3>Changes</h3><ul><li><strong>New in version 1.76</strong> </li><li><strong>Changed in version 1.99:</strong> Added <code>dimension</code> argument.</li></ul></dd><dt><a name="v:getBlockInfo" href="#v:getBlockInfo"></a><span class="definition-name">getBlockInfo(x, y, z [, dimension])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/common/src/main/java/dan200/computercraft/shared/computer/apis/CommandAPI.java#L240" class="source-link">Source</a></dt><dd><p>Get some basic information about a block.</p>
<p>The returned table contains the current name, metadata and block state (as
with <a href="turtle.html#v:inspect" class="reference"><code>turtle.inspect</code></a>). If there is a tile entity for that block, its NBT
will also be returned.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">x</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The x position of the block to query.</li><li><span class="parameter">y</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The y position of the block to query.</li><li><span class="parameter">z</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The z position of the block to query.</li><li><span class="parameter">dimension<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The dimension to query (e.g. &quot;minecraft:overworld&quot;). Defaults to the current dimension.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The given block's information.</li></ol><h3>Throws</h3><ul><li><p>If the coordinates are not within the world, or are not currently loaded.</p>
</li></ul><h3>Changes</h3><ul><li><strong>Changed in version 1.76:</strong> Added block state info to return value</li><li><strong>Changed in version 1.99:</strong> Added <code>dimension</code> argument.</li></ul></dd><dt><a name="v:native" href="#v:native"></a><span class="definition-name">native</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/core/src/main/resources/data/computercraft/lua/rom/apis/command/commands.lua#L35" class="source-link">Source</a></dt><dd><p>The builtin commands API, without any generated command helper functions</p>
<p>This may be useful if a built-in function (such as <a href="commands.html#v:list" class="reference"><code>commands.list</code></a>) has been
overwritten by a command.</p>
</dd><dt><a name="v:async" href="#v:async"></a><span class="definition-name">async</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/d48b85d50cdb30af941c0dc4eccbb8971e902011/projects/core/src/main/resources/data/computercraft/lua/rom/apis/command/commands.lua#L61" class="source-link">Source</a></dt><dd><p>A table containing asynchronous wrappers for all commands.</p>
<p>As with <a href="commands.html#v:execAsync" class="reference"><code>commands.execAsync</code></a>, this returns the &quot;task id&quot; of the enqueued
command.</p>
<h3>Usage</h3><ul><li><p>Asynchronously sets the block above the computer to stone.</p>
<div class="lua-example"><pre class="highlight" data-lua-kind="expr"><a title="A table containing asynchronous wrappers for all commands." href="commands.html#v:async"><span class="ident">commands</span><span class="symbol">.</span><span class="symbol">async</span></a><span class="symbol">.</span><span class="symbol">setblock</span><span class="symbol">(</span><span class="string">&quot;~&quot;</span><span class="symbol">,</span> <span class="string">&quot;~1&quot;</span><span class="symbol">,</span> <span class="string">&quot;~&quot;</span><span class="symbol">,</span> <span class="string">&quot;minecraft:stone&quot;</span><span class="symbol">)</span><span class="symbol"></span></pre></div></li></ul><h3>See also</h3><ul><li><strong><a href="commands.html#v:execAsync" class="reference"><code>execAsync</code></a></strong> </li></ul></dd></dl></section><footer>Last updated on 2024-05-26</footer></div><div id="search-overlay"></div><script src="../main.js?v=f7e54cef" type="text/javascript" defer></script></body></html>