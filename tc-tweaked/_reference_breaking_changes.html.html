<!doctype HTML> <html><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Incompatibilities between versions</title><meta property="og:title" content="Incompatibilities between versions"/><meta property="og:type" content="website"/><meta name="description" content="CC: Tweaked tries to remain as compatible between versions as possible, meaning most programs written for older version"/><meta property="og:description" content="CC: Tweaked tries to remain as compatible between versions as possible, meaning most programs written for older version"/><meta property="og:image" content="https://tweaked.cc/pack-26318f36.png"/><meta property="og:site_name" content="CC: Tweaked"/><meta name="illuaminate:index" content="../index.json"/><link rel="stylesheet" href="../main.css?v=bbe7ccb7" type="text/css"/>

<meta name="theme-color" content="#c8d87c"/></head><body><nav id="nav"><button id="nav-reveal" type="button">☰</button><h1><a href=".././"><img src="../pack-26318f36.png" alt="CC: Tweaked"/></a></h1><div class="nav-links"><h2 class="collapsed" tabindex="0">Globals</h2><ul><li><a href="../module/_G.html" class="sidebar-link">_G</a></li><li><a href="../module/colors.html" class="sidebar-link">colors</a></li><li><a href="../module/colours.html" class="sidebar-link">colours</a></li><li><a href="../module/commands.html" class="sidebar-link">commands</a></li><li><a href="../module/disk.html" class="sidebar-link">disk</a></li><li><a href="../module/fs.html" class="sidebar-link">fs</a></li><li><a href="../module/gps.html" class="sidebar-link">gps</a></li><li><a href="../module/help.html" class="sidebar-link">help</a></li><li><a href="../module/http.html" class="sidebar-link">http</a></li><li><a href="../module/io.html" class="sidebar-link">io</a></li><li><a href="../module/keys.html" class="sidebar-link">keys</a></li><li><a href="../module/multishell.html" class="sidebar-link">multishell</a></li><li><a href="../module/os.html" class="sidebar-link">os</a></li><li><a href="../module/paintutils.html" class="sidebar-link">paintutils</a></li><li><a href="../module/parallel.html" class="sidebar-link">parallel</a></li><li><a href="../module/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../module/pocket.html" class="sidebar-link">pocket</a></li><li><a href="../module/rednet.html" class="sidebar-link">rednet</a></li><li><a href="../module/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../module/settings.html" class="sidebar-link">settings</a></li><li><a href="../module/shell.html" class="sidebar-link">shell</a></li><li><a href="../module/term.html" class="sidebar-link">term</a></li><li><a href="../module/textutils.html" class="sidebar-link">textutils</a></li><li><a href="../module/turtle.html" class="sidebar-link">turtle</a></li><li><a href="../module/vector.html" class="sidebar-link">vector</a></li><li><a href="../module/window.html" class="sidebar-link">window</a></li></ul><h2 class="collapsed" tabindex="0">Modules</h2><ul><li><a href="../library/cc.audio.dfpwm.html" class="sidebar-link">cc.audio.dfpwm</a></li><li><a href="../library/cc.completion.html" class="sidebar-link">cc.completion</a></li><li><a href="../library/cc.expect.html" class="sidebar-link">cc.expect</a></li><li><a href="../library/cc.image.nft.html" class="sidebar-link">cc.image.nft</a></li><li><a href="../library/cc.pretty.html" class="sidebar-link">cc.pretty</a></li><li><a href="../library/cc.require.html" class="sidebar-link">cc.require</a></li><li><a href="../library/cc.shell.completion.html" class="sidebar-link">cc.shell.completion</a></li><li><a href="../library/cc.strings.html" class="sidebar-link">cc.strings</a></li></ul><h2 class="collapsed" tabindex="0">Peripherals</h2><ul><li><a href="../peripheral/command.html" class="sidebar-link">command</a></li><li><a href="../peripheral/computer.html" class="sidebar-link">computer</a></li><li><a href="../peripheral/drive.html" class="sidebar-link">drive</a></li><li><a href="../peripheral/modem.html" class="sidebar-link">modem</a></li><li><a href="../peripheral/monitor.html" class="sidebar-link">monitor</a></li><li><a href="../peripheral/printer.html" class="sidebar-link">printer</a></li><li><a href="../peripheral/speaker.html" class="sidebar-link">speaker</a></li></ul><h2 class="collapsed" tabindex="0">Generic Peripherals</h2><ul><li><a href="../generic_peripheral/energy_storage.html" class="sidebar-link">energy_storage</a></li><li><a href="../generic_peripheral/fluid_storage.html" class="sidebar-link">fluid_storage</a></li><li><a href="../generic_peripheral/inventory.html" class="sidebar-link">inventory</a></li></ul><h2 class="collapsed" tabindex="0">Events</h2><ul><li><a href="../event/alarm.html" class="sidebar-link">alarm</a></li><li><a href="../event/char.html" class="sidebar-link">char</a></li><li><a href="../event/computer_command.html" class="sidebar-link">computer_command</a></li><li><a href="../event/disk.html" class="sidebar-link">disk</a></li><li><a href="../event/disk_eject.html" class="sidebar-link">disk_eject</a></li><li><a href="../event/file_transfer.html" class="sidebar-link">file_transfer</a></li><li><a href="../event/http_check.html" class="sidebar-link">http_check</a></li><li><a href="../event/http_failure.html" class="sidebar-link">http_failure</a></li><li><a href="../event/http_success.html" class="sidebar-link">http_success</a></li><li><a href="../event/key.html" class="sidebar-link">key</a></li><li><a href="../event/key_up.html" class="sidebar-link">key_up</a></li><li><a href="../event/modem_message.html" class="sidebar-link">modem_message</a></li><li><a href="../event/monitor_resize.html" class="sidebar-link">monitor_resize</a></li><li><a href="../event/monitor_touch.html" class="sidebar-link">monitor_touch</a></li><li><a href="../event/mouse_click.html" class="sidebar-link">mouse_click</a></li><li><a href="../event/mouse_drag.html" class="sidebar-link">mouse_drag</a></li><li><a href="../event/mouse_scroll.html" class="sidebar-link">mouse_scroll</a></li><li><a href="../event/mouse_up.html" class="sidebar-link">mouse_up</a></li><li><a href="../event/paste.html" class="sidebar-link">paste</a></li><li><a href="../event/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../event/peripheral_detach.html" class="sidebar-link">peripheral_detach</a></li><li><a href="../event/rednet_message.html" class="sidebar-link">rednet_message</a></li><li><a href="../event/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../event/speaker_audio_empty.html" class="sidebar-link">speaker_audio_empty</a></li><li><a href="../event/task_complete.html" class="sidebar-link">task_complete</a></li><li><a href="../event/term_resize.html" class="sidebar-link">term_resize</a></li><li><a href="../event/terminate.html" class="sidebar-link">terminate</a></li><li><a href="../event/timer.html" class="sidebar-link">timer</a></li><li><a href="../event/turtle_inventory.html" class="sidebar-link">turtle_inventory</a></li><li><a href="../event/websocket_closed.html" class="sidebar-link">websocket_closed</a></li><li><a href="../event/websocket_failure.html" class="sidebar-link">websocket_failure</a></li><li><a href="../event/websocket_message.html" class="sidebar-link">websocket_message</a></li><li><a href="../event/websocket_success.html" class="sidebar-link">websocket_success</a></li></ul><h2 class="collapsed" tabindex="0">Guides</h2><ul><li><a href="../guide/gps_setup.html" class="sidebar-link">Setting up GPS</a></li><li><a href="../guide/local_ips.html" class="sidebar-link">Allowing access to local IPs</a></li><li><a href="../guide/speaker_audio.html" class="sidebar-link">Playing audio with speakers</a></li><li><a href="../guide/using_require.html" class="sidebar-link">Reusing code with require</a></li></ul><h2 tabindex="0">Reference</h2><ul><li><strong class="sidebar-link selected">Incompatibilities between versions</strong></li><li><a href="computercraft_command.html" class="sidebar-link">The /computercraft command</a></li><li><a href="feature_compat.html" class="sidebar-link">Lua 5.2/5.3 features in CC: Tweaked</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"/><div id="search-results"></div></div><section id="content"><h1>Incompatibilities between versions</h1><p>CC: Tweaked tries to remain as compatible between versions as possible, meaning most programs written for older version
of the mod should run fine on later versions.</p>
<div class="admonition admonition-warning"><h5 class="admonition-heading"><span aria-hidden="true">⚠</span> External peripherals</h5><p></p>
<p>While CC: Tweaked is relatively stable across versions, this may not be true for other mods which add their own
peripherals. Older programs which interact with external blocks may not work on newer versions of the game.</p>
</div><p>However, some changes to the underlying game, or CC: Tweaked's own internals may break some programs. This page serves
as documentation for breaking changes and &quot;gotchas&quot; one should look out for between versions.</p>
<h2 id="cct-1.109"><a class="anchor" aria-hidden="true" href="#cct-1.109"></a>CC: Tweaked 1.109.0 to 1.109.3</h2>
<ul>
<li>
<p>Update to Lua 5.2:</p>
<ul>
<li>Support for Lua 5.0's pseudo-argument <code>arg</code> has been removed. You should always use <code>...</code> for varargs.</li>
<li>Environments are no longer baked into the runtime, and instead use the <code>_ENV</code> local or upvalue. <code>getfenv</code>/<code>setfenv</code>
now only work on Lua functions with an <code>_ENV</code> upvalue. <code>getfenv</code> will return the global environment when called
with other functions, and <code>setfenv</code> will have no effect.</li>
<li><code>load</code>/<code>loadstring</code> defaults to using the global environment (<code>_G</code>) rather than the current coroutine's
environment.</li>
<li>Support for dumping functions (<code>string.dump</code>) and loading binary chunks has been removed.</li>
<li><code>math.random</code> now uses Lua 5.4's random number generator.</li>
</ul>
</li>
<li>
<p>File handles, HTTP requests and websockets now always use the original bytes rather than encoding/decoding to UTF-8.</p>
</li>
</ul>
<h2 id="mc-1.13"><a class="anchor" aria-hidden="true" href="#mc-1.13"></a>Minecraft 1.13</h2>
<ul>
<li>
<p>The &quot;key code&quot; for <a href="../event/key.html" class="reference"><code>key</code></a> and <a href="../event/key_up.html" class="reference"><code>key_up</code></a> events has changed, due to Minecraft updating to LWJGL 3. Make sure you're
using the constants provided by the <a href="../module/keys.html" class="reference"><code>keys</code></a> API, rather than hard-coding numerical values.</p>
<p>Related to this change, the numpad enter key now has a different key code to the enter key. You may need to adjust
your programs to handle both. (Note, the <code>keys.numpadEnter</code> constant was defined in pre-1.13 versions of CC, but the
<code>keys.enter</code> constant was queued when the key was pressed)</p>
</li>
<li>
<p>Minecraft 1.13 removed the concept of item damage and block metadata (see <a href="https://minecraft.wiki/w/Java_Edition_1.13/Flattening">&quot;The Flattening&quot;</a>). As a
result <code>turtle.inspect</code> no longer provides block metadata, and <code>turtle.getItemDetail</code> no longer provides damage.</p>
<ul>
<li>
<p>Block states (<code>turtle.inspect().state</code>) should provide all the same information as block metadata, but in a much
more understandable format.</p>
</li>
<li>
<p>Item and block names now represent a unique item type. For instance, wool is split into 16 separate items
(<code>minecraft:white_wool</code>, etc...) rather than a single <code>minecraft:wool</code> with each meta/damage value specifying the
colour.</p>
</li>
</ul>
</li>
<li>
<p>Custom ROMs are now provided using data packs rather than resource packs. This should mostly be a matter of renaming
the &quot;assets&quot; folder to &quot;data&quot;, and placing it in &quot;datapacks&quot;, but there are a couple of other gotchas to look out
for:</p>
<ul>
<li>Data packs <a href="https://minecraft.gamepedia.com/Tutorials/Creating_a_data_pack#Legal_characters">impose some restrictions on file names</a>. As a result, your programs and directories
must all be lower case.</li>
<li>Due to how data packs are read by CC: Tweaked, you may need to use the <code>/reload</code> command to see changes to your
pack show up on the computer.</li>
</ul>
<p>See <a href="https://github.com/cc-tweaked/datapack-example" title="An example datapack for CC: Tweaked">the example datapack</a> for how to get started.</p>
</li>
<li>
<p>Turtles can now be waterlogged and move &quot;through&quot; water sources rather than breaking them.</p>
</li>
</ul>
<h2 id="cc-1.88"><a class="anchor" aria-hidden="true" href="#cc-1.88"></a>CC: Tweaked 1.88.0</h2>
<ul>
<li>Unlabelled computers and turtles now keep their ID when broken, meaning that unlabelled computers/items do not stack.</li>
</ul>
<h2 id="cc-1.80"><a class="anchor" aria-hidden="true" href="#cc-1.80"></a>ComputerCraft 1.80pr1</h2>
<ul>
<li>
<p>Programs run via <code>shell.run</code> are now started in their own isolated environment. This means globals set by programs
will not be accessible outside of this program.</p>
</li>
<li>
<p>Programs containing <code>/</code> are looked up in the current directory and are no longer looked up on the path. For instance,
you can no longer type <code>turtle/excavate</code> to run <code>/rom/programs/turtle/excavate.lua</code>.</p>
</li>
</ul>
</section><footer>Last updated on 2024-05-26</footer></div><div id="search-overlay"></div><script src="../main.js?v=f7e54cef" type="text/javascript" defer></script></body></html>